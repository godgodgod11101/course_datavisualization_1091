library(knitr)
opts_chunk$set(echo = TRUE, message = F, warning = T, eval=T)
# windows檔名不要有"-"號
library(readr)
library(dplyr)
df1 <- data.frame(
y=c(1, 3, 5),
x=c(0, -1, 1)
)
df2 <- list(
y=c(1, 3, 5),
x=c(0, -1, 1)
)
df1[1, 2]
View(df2)
df2[1, 2]    # 無法使用
View(df1)
df1[c(1, 2), c(1, 2)]
df1[c(1, 2), "x"]
methods(class = "data.frame")
methods(class = "list")
browseURL("https://data.ntpc.gov.tw/datasets?keyword=%E6%96%B0%E5%8C%97%E5%B8%82%E5%85%AC%E5%85%B1%E8%87%AA%E8%A1%8C%E8%BB%8A%E7%A7%9F%E8%B3%83%E7%B3%BB%E7%B5%B1%28YouBike%29")    # 瀏覽網頁
library(jsonlite)
json_url <- "https://data.ntpc.gov.tw/api/datasets/71CD1490-A2DF-4198-BEF1-318479775E8A/json"
fromJSON(json_url)
list_Ubike_nTp <- fromJSON(
json_url,
simplifyDataFrame = F
)
View(list_Ubike_nTp)
csv_url <- "https://data.ntpc.gov.tw/api/datasets/71CD1490-A2DF-4198-BEF1-318479775E8A/csv"
df_Ubike_nTp<- read_csv(csv_url)    # a connection to a file
View(df_Ubike_nTp)
View(list_Ubike_nTp)
View(df_Ubike_nTp)
df_Ubike_nTp$mday
df_Ubike_nTp$mday * 10000
as.character(df_Ubike_nTp$mday)
lubridate::ymd_hms(as.character(df_Ubike_nTp$mday))
str(df_Ubike_nTp)
df_Ubike_nTp %>%
summarise(
na_sna = sum(is.na(sna)),
na_sno = sum(is.na(sno))
)
df_Ubike_nTp %>%
mutate(
across(    # apply the same transformation to multiple columns
everything(),    # 針對所有變數
stringr::str_length
)
)
# is the same as
# df_Ubike_nTp %>%
#   mutate_all(
#     .,
#     stringr::str_length
#   )
df_Ubike_nTp %>%
summarise(
across(
where(is.numeric),    # T/F vector選變數
list(平 = mean, 中 = median)
)
)
# is the same as
# df_Ubike_nTp %>%
#   summarise_if(
#     .predicate = is.numeric,
#     list(平 = mean, 中 = median)
#   )
df_Ubike_nTp %>%
summarise(
across(
where(is.numeric),    # T/F vector選變數
~{.x^2}    # purrr-style lambda
)
)
function(x) x^2    # anonymous function (Python: lambda function)
df_Ubike_nTp %>%
summarise(
across(
where(is.numeric),    # T/F vector選變數
function(x) x^2    # anonymous function
)
)
readxl::read_xls(path = "./_w10910311502116071900521-q04011.xls")
readxl::read_xls(path = "_w10910311502116071900521-q04011.xls")
readxl::read_xls(path = ".\_w10910311502116071900521-q04011.xls")
readxl::read_xls(path = "./_w10910311502116071900521-q04011.xls")
readxl::read_xls(path = "./_w10910311502116071900521-q04011.xls", skip = 3)
library(googlesheets4)
library(googlesheets4)
read_sheet("https://docs.google.com/spreadsheets/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/edit#gid=979939284")
gs4_deauth()
gs4_auth()
library(googlesheets4)
read_sheet("https://docs.google.com/spreadsheets/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/edit#gid=979939284")
read_sheet("https://docs.google.com/spreadsheets/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/edit#gid=979939284", skip=3)
library(googlesheets4)
read_sheet(
"https://docs.google.com/spreadsheets/d/1PPWeFGqedVsgZmV81MeA0oJDCBkj5upkHltlWap7xUY/edit#gid=1835013852",
skip=3
) -> startSalary
gs4_deauth()
gs4_auth()
library(googlesheets4)
read_sheet(
"https://docs.google.com/spreadsheets/d/1PPWeFGqedVsgZmV81MeA0oJDCBkj5upkHltlWap7xUY/edit#gid=1835013852",
skip=3
) -> startSalary
View(startSalary)
library(googlesheets4)
read_sheet(
"https://drive.google.com/file/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/view?usp=sharing",
skip=3
) -> startSalary
View(startSalary)
library(googlesheets4)
read_sheet(
"https://drive.google.com/file/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/view?usp=sharing",
skip=3
) -> startSalary
library(googlesheets4)
read_sheet(
"https://drive.google.com/file/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/view?usp=sharing",
skip=3
) -> startSalary
library(googlesheets4)
read_sheet(
"https://drive.google.com/file/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/view?usp=sharing",
skip=3
) -> startSalary
library(googlesheets4)
read_sheet(
"https://docs.google.com/spreadsheets/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/edit#gid=979939284",
skip=3
) -> startSalary
gs4_deauth()
gs4_auth()
library(googlesheets4)
read_sheet(
"https://docs.google.com/spreadsheets/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/edit#gid=979939284",
skip=3
) -> startSalary
library(googlesheets4)
read_sheet(
"https://drive.google.com/file/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/view?usp=sharing",
skip=3
) -> startSalary
library(googlesheets4)
read_sheet(
"https://drive.google.com/file/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/view?usp=sharing",
skip=3
) -> startSalary
library(googlesheets4)
read_sheet(
"https://docs.google.com/spreadsheets/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/edit#gid=979939284",
skip=3
) -> startSalary
library(googlesheets4)
read_sheet(
"https://drive.google.com/file/d/1dXRtLWWfOajn2KO-7tOUc70rlq0AKLJf/view?usp=sharing",
skip=3
) -> startSalary
library(googlesheets4)
read_sheet(
"https://docs.google.com/spreadsheets/d/1N3Qp2_4B9eqxGSSqvYHJrdzGYd1G0_k59jFn9AZE5vk/edit?usp=sharing",
skip=3
) -> startSalary
View(startSalary)
View(startSalary)
View(startSalary)
library(googlesheets4)
read_sheet(
"https://docs.google.com/spreadsheets/d/1N3Qp2_4B9eqxGSSqvYHJrdzGYd1G0_k59jFn9AZE5vk/edit?usp=sharing"
) -> basicSalary
View(basicSalary)
library(googlesheets4)
read_sheet(
"https://docs.google.com/spreadsheets/d/1N3Qp2_4B9eqxGSSqvYHJrdzGYd1G0_k59jFn9AZE5vk/edit?usp=sharing",
skip=3
) -> basicSalary
View(basicSalary)
library(googlesheets4)
read_sheet(
"https://docs.google.com/spreadsheets/d/1N3Qp2_4B9eqxGSSqvYHJrdzGYd1G0_k59jFn9AZE5vk/edit?usp=sharing",
skip=3
) -> basicSalary
View(basicSalary)
